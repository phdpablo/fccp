<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Interativo: Risco, Retorno e Custo de Oportunidade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* 1. Definição da Paleta de Cores Solicitada */
        :root {
            --dark-blue: #0D232C;
            --vibrant-orange: #F18C22;
            --light-teal: #87CBCC;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-blue);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .nav-link:hover, .nav-link.active {
            color: var(--vibrant-orange);
            border-bottom-color: var(--vibrant-orange);
        }
        .btn-asset-selector.active {
            background-color: var(--vibrant-orange);
            color: white;
            border-color: var(--vibrant-orange);
        }
        input[type="number"]:focus {
             border-color: var(--vibrant-orange);
            --tw-ring-color: var(--vibrant-orange);
            box-shadow: 0 0 0 1px var(--vibrant-orange);
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: var(--dark-blue);">Finanças de Curto Prazo</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#dilema" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent transition-colors">O Dilema</a>
                        <a href="#comparativo" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent transition-colors">Comparativo</a>
                        <a href="#decisao" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent transition-colors">Decisão Racional</a>
                        <a href="#custo" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent transition-colors">Custo de Oportunidade</a>
                        <a href="#tempo" class="nav-link text-gray-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent transition-colors">Valor do Tempo</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="dilema" class="text-center mb-16 md:mb-24 scroll-mt-20">
            <h2 class="text-3xl md:text-5xl font-bold mb-4" style="color: var(--dark-blue);">O Dilema Central das Finanças</h2>
            <p class="max-w-3xl mx-auto text-lg md:text-xl text-gray-600">
                Toda decisão financeira é uma balança entre o ganho esperado (Retorno) e a chance de perda (Risco). Este painel interativo descomplica os conceitos essenciais para você tomar decisões mais inteligentes.
            </p>
        </section>

        <section id="comparativo" class="mb-16 md:mb-24 scroll-mt-20">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-3" style="color: var(--dark-blue);">Estudo de Caso Interativo</h3>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">Renda Fixa ou Imóvel? Ambos são investimentos, mas com naturezas muito distintas. Clique nos critérios abaixo para comparar os dois e entender por que o risco vai muito além da volatilidade.</p>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-lg">
                <div class="mb-8 overflow-x-auto pb-4">
                    <div id="asset-selectors" class="flex justify-center space-x-2 md:space-x-4 whitespace-nowrap">
                        <button class="btn-asset-selector active" data-criteria="retorno">Retorno</button>
                        <button class="btn-asset-selector" data-criteria="risco">Risco</button>
                        <button class="btn-asset-selector" data-criteria="liquidez">Liquidez</button>
                        <button class="btn-asset-selector" data-criteria="custos">Custos</button>
                        <button class="btn-asset-selector" data-criteria="previsibilidade">Previsibilidade</button>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div id="renda-fixa-card" class="border border-gray-200 rounded-xl p-6 transition-all duration-300">
                        <h4 class="text-2xl font-bold text-center mb-4" style="color: var(--light-teal);">Renda Fixa</h4>
                        <div id="renda-fixa-content" class="space-y-4"></div>
                    </div>
                    <div id="imovel-card" class="border border-gray-200 rounded-xl p-6 transition-all duration-300">
                        <h4 class="text-2xl font-bold text-center mb-4" style="color: var(--dark-blue);">Imóvel</h4>
                        <div id="imovel-content" class="space-y-4"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="decisao" class="mb-16 md:mb-24 scroll-mt-20">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-3" style="color: var(--dark-blue);">Simulador de Decisão Racional</h3>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">Um investidor racional busca o maior retorno para um mesmo nível de risco, ou o menor risco para um mesmo retorno. Use os botões para comparar os ativos A, B e C e veja os princípios da Dominância e do Prêmio pelo Risco em ação.</p>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-lg">
                <div class="grid lg:grid-cols-2 gap-8 items-center">
                    <div>
                        <div class="chart-container">
                            <canvas id="riskReturnChart"></canvas>
                        </div>
                    </div>
                    <div class="space-y-4">
                         <div id="decision-explanation" class="bg-gray-100 p-6 rounded-lg text-gray-700 min-h-[150px]">
                            <p>Selecione uma comparação para começar a análise.</p>
                        </div>
                        <div class="flex flex-wrap justify-center gap-3">
                            <button class="btn-decision" data-compare="A-C">Comparar A vs C</button>
                            <button class="btn-decision" data-compare="B-C">Comparar B vs C</button>
                            <button class="btn-decision" data-compare="A-B">Comparar A vs B</button>
                            <button class="btn-decision" data-compare="reset">Resetar</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="custo" class="mb-16 md:mb-24 scroll-mt-20">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-3" style="color: var(--dark-blue);">O Custo de Oportunidade</h3>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">Este é um dos conceitos mais importantes em finanças. Não se trata apenas do que você ganha, mas do que você **deixa de ganhar** ao fazer uma escolha.</p>
            </div>
            <div class="bg-white p-8 rounded-2xl shadow-lg text-center">
                <p class="text-2xl font-semibold mb-4" style="color: var(--dark-blue);">"O valor da melhor alternativa preterida entre opções com um <span style="color: var(--vibrant-orange);" class="underline decoration-wavy">perfil de risco comparável</span>."</p>
                <p class="text-lg text-gray-700">Por que a parte destacada é crucial? Comparar o retorno de um imóvel (maior risco) com o da renda fixa (menor risco) pode ser um erro conceitual. O correto é comparar o imóvel com outro ativo de risco similar, como um fundo imobiliário. O Custo de Oportunidade exige que a comparação seja justa.</p>
            </div>
        </section>
        
        <!-- 3. Calculadora de Juros Compostos -->
        <section id="tempo" class="scroll-mt-20">
             <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-3" style="color: var(--dark-blue);">O Valor do Dinheiro no Tempo</h3>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">R$1.000 hoje valem mais do que R$1.000 daqui a um ano. Por quê? Inflação e, principalmente, o Custo de Oportunidade. O dinheiro pode ser investido para render juros. A taxa de juros é o "preço do tempo".</p>
            </div>
             <div class="bg-white p-8 rounded-2xl shadow-lg max-w-lg mx-auto">
                <h4 class="text-xl font-bold text-center mb-4" style="color: var(--dark-blue);">Calculadora de Juros Compostos</h4>
                <div class="space-y-4">
                    <div>
                        <label for="principal" class="block text-sm font-medium text-gray-700">Valor Presente (R$)</label>
                        <input type="number" id="principal" value="1000" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm">
                    </div>
                     <div>
                        <label for="rate" class="block text-sm font-medium text-gray-700">Taxa de Juros por Período (%)</label>
                        <input type="number" id="rate" value="10" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm">
                    </div>
                    <div>
                        <label for="periods" class="block text-sm font-medium text-gray-700">Períodos (n)</label>
                        <input type="number" id="periods" value="1" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm">
                    </div>
                    <button id="calculate-btn" class="w-full text-white font-bold py-2 px-4 rounded-lg transition-colors" style="background-color: var(--vibrant-orange);">Calcular Valor Futuro</button>
                    <div id="future-value-result" class="text-center text-xl font-bold pt-4" style="color: var(--dark-blue);">
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- 2. Rodapé Adicionado -->
    <footer class="text-center py-6 mt-12 border-t border-gray-200">
        <p class="text-sm text-gray-500">
            © 2025 <a href="https://fccp.phdpablo.com" target="_blank" rel="noopener noreferrer" class="font-semibold transition hover:underline" style="color: var(--vibrant-orange);">fccp.phdpablo.com</a>. Todos os direitos reservados.
        </p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const assetComparisonData = {
                retorno: {
                    rendaFixa: `<div><span class="font-bold text-lg">Juros  previstos</span><p class="text-sm">O retorno é contratualmente definido. Você sabe, desde o início, qual será o ganho, trazendo alta previsibilidade.</p></div>`,
                    imovel: `<div><span class="font-bold text-lg">Aluguel + Valorização</span><p class="text-sm">Possui duas fontes de retorno: o aluguel (incerto) e o ganho de capital com a valorização do imóvel (especulativo e não garantido).</p></div>`
                },
                risco: {
                    rendaFixa: `<div><span class="font-bold text-lg">Garantias Institucionais</span><p class="text-sm">Muitos ativos são protegidos pelo FGC (Fundo Garantidor de Crédito) sem custo direto para o investidor. O risco de crédito é baixo.</p></div>`,
                    imovel: `<div><span class="font-bold text-lg">Riscos Múltiplos</span><p class="text-sm">Sem garantias. Exposto ao risco de vacância, inadimplência do inquilino e danos físicos. Seguro é um custo adicional.</p></div>`
                },
                liquidez: {
                    rendaFixa: `<div><span class="font-bold text-lg">Alta Liquidez 💧</span><p class="text-sm">Facilmente convertível em dinheiro em poucos dias, com pouca ou nenhuma perda de valor.</p></div>`,
                    imovel: `<div><span class="font-bold text-lg">Baixa Liquidez 🧱</span><p class="text-sm">Vender pode levar meses. Para uma venda rápida, é necessário oferecer grandes descontos, gerando perda de valor.</p></div>`
                },
                custos: {
                    rendaFixa: `<div><span class="font-bold text-lg">Custos Mínimos</span><p class="text-sm">Custos de manutenção e transação são praticamente inexistentes.</p></div>`,
                    imovel: `<div><span class="font-bold text-lg">Custos Elevados</span><p class="text-sm">Altos custos recorrentes de manutenção, e custos de transação significativos (impostos, cartório, corretagem).</p></div>`
                },
                previsibilidade: {
                    rendaFixa: `<div><span class="font-bold text-lg">Valor Futuro Conhecido</span><p class="text-sm">O valor de resgate no vencimento é conhecido desde a aplicação, assumindo que o emissor não quebre.</p></div>`,
                    imovel: `<div><span class="font-bold text-lg">Valor Futuro Especulativo</span><p class="text-sm">O preço futuro depende do mercado. Mercados imobiliários podem estagnar ou cair, resultando em perdas.</p></div>`
                }
            };

            const selectors = document.querySelectorAll('.btn-asset-selector');
            const rendaFixaContent = document.getElementById('renda-fixa-content');
            const imovelContent = document.getElementById('imovel-content');

            function updateAssetComparison(criteria) {
                rendaFixaContent.innerHTML = assetComparisonData[criteria].rendaFixa;
                imovelContent.innerHTML = assetComparisonData[criteria].imovel;
                
                selectors.forEach(s => {
                    s.classList.toggle('active', s.dataset.criteria === criteria);
                });
            }

            selectors.forEach(selector => {
                selector.addEventListener('click', () => {
                    updateAssetComparison(selector.dataset.criteria);
                });
            });

            updateAssetComparison('retorno');

            const assetsData = {
                A: { x: 5, y: 10, label: 'Ativo A' },
                B: { x: 10, y: 15, label: 'Ativo B' },
                C: { x: 5, y: 15, label: 'Ativo C' }
            };

            const ctx = document.getElementById('riskReturnChart').getContext('2d');
            let riskReturnChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Ativo A',
                        data: [{ x: assetsData.A.x, y: assetsData.A.y }],
                        backgroundColor: 'rgba(241, 140, 34, 0.8)', // vibrant-orange
                        pointRadius: 8, pointHoverRadius: 10
                    }, {
                        label: 'Ativo B',
                        data: [{ x: assetsData.B.x, y: assetsData.B.y }],
                        backgroundColor: 'rgba(13, 35, 44, 0.8)', // dark-blue
                         pointRadius: 8, pointHoverRadius: 10
                    }, {
                        label: 'Ativo C',
                        data: [{ x: assetsData.C.x, y: assetsData.C.y }],
                        backgroundColor: 'rgba(135, 203, 204, 0.8)', // light-teal
                         pointRadius: 8, pointHoverRadius: 10
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear', position: 'bottom',
                            title: { display: true, text: 'Risco Percebido (%)', font: { size: 14 } },
                            min: 0, max: 15
                        },
                        y: {
                            title: { display: true, text: 'Retorno Esperado (%)', font: { size: 14 } },
                             min: 0, max: 20
                        }
                    },
                    plugins: {
                        tooltip: {
                             callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    label += `(Risco: ${context.parsed.x}%, Retorno: ${context.parsed.y}%)`;
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const decisionButtons = document.querySelectorAll('.btn-decision');
            const decisionExplanation = document.getElementById('decision-explanation');
            const defaultColors = riskReturnChart.data.datasets.map(ds => ds.backgroundColor);
            const highlightColor = 'rgba(255, 206, 86, 1)';

            function resetChartStyles() {
                riskReturnChart.data.datasets.forEach((ds, i) => {
                    ds.backgroundColor = defaultColors[i];
                    ds.pointRadius = 8;
                });
                riskReturnChart.update();
            }

            function highlightPoints(pointsToHighlight) {
                resetChartStyles();
                riskReturnChart.data.datasets.forEach((ds, i) => {
                    const assetLabel = ds.label.split(' ')[1];
                    if (pointsToHighlight.includes(assetLabel)) {
                        ds.backgroundColor = highlightColor;
                        ds.pointRadius = 12;
                    }
                });
                riskReturnChart.update();
            }
            
            decisionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const comparison = button.dataset.compare;
                    switch (comparison) {
                        case 'A-C':
                            highlightPoints(['A', 'C']);
                            decisionExplanation.innerHTML = `<h5 class="font-bold">Dominância: A vs C</h5><p>Ambos possuem o mesmo Risco (5%), mas o Ativo C oferece um Retorno maior (15% vs 10%). Um investidor racional sempre escolherá C, pois ele <strong>domina</strong> A.</p>`;
                            break;
                        case 'B-C':
                            highlightPoints(['B', 'C']);
                            decisionExplanation.innerHTML = `<h5 class="font-bold">Dominância: B vs C</h5><p>Ambos oferecem o mesmo Retorno (15%), mas o Ativo C tem um Risco menor (5% vs 10%). Um investidor racional sempre escolherá C, pois ele <strong>domina</strong> B.</p>`;
                            break;
                        case 'A-B':
                            highlightPoints(['A', 'B']);
                            decisionExplanation.innerHTML = `<h5 class="font-bold">Trade-off e Prêmio pelo Risco: A vs B</h5><p>Aqui não há dominância. O Ativo B oferece maior Retorno, mas também maior Risco. A diferença de 5% no retorno é o <strong>prêmio pelo risco</strong> que o investidor exige para aceitar o risco adicional de B.</p>`;
                            break;
                        case 'reset':
                            resetChartStyles();
                            decisionExplanation.innerHTML = `<p>Selecione uma comparação para começar a análise.</p>`;
                            break;
                    }
                });
            });

            // Lógica da calculadora de Juros Compostos
            const principalInput = document.getElementById('principal');
            const rateInput = document.getElementById('rate');
            const periodsInput = document.getElementById('periods'); // Novo input
            const calculateBtn = document.getElementById('calculate-btn');
            const resultDiv = document.getElementById('future-value-result');

            function calculateCompoundInterest() {
                const principal = parseFloat(principalInput.value);
                const rate = parseFloat(rateInput.value) / 100;
                const periods = parseFloat(periodsInput.value);
                
                if (!isNaN(principal) && !isNaN(rate) && !isNaN(periods) && periods >= 0) {
                    // Fórmula: VF = VP * (1 + i)^n
                    const futureValue = principal * Math.pow(1 + rate, periods);
                    resultDiv.innerHTML = `Valor Futuro: R$ ${futureValue.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                } else {
                    resultDiv.innerHTML = 'Por favor, insira valores válidos.';
                }
            }

            calculateBtn.addEventListener('click', calculateCompoundInterest);
            [principalInput, rateInput, periodsInput].forEach(input => input.addEventListener('input', calculateCompoundInterest));

            const allNavLinks = document.querySelectorAll('header .nav-link');
            const sections = document.querySelectorAll('main section');

            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.4 };
            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const targetId = entry.target.getAttribute('id');
                        allNavLinks.forEach(link => {
                            link.classList.toggle('active', link.hash === `#${targetId}`);
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });
            
             decisionButtons.forEach(btn => {
                btn.classList.add('px-4', 'py-2', 'bg-gray-200', 'rounded-lg', 'font-semibold', 'text-gray-700', 'hover:bg-gray-300', 'transition-colors');
            });
            
            const assetSelectorsButtons = document.querySelectorAll('.btn-asset-selector');
            assetSelectorsButtons.forEach(btn => {
                 btn.classList.add('px-4', 'py-2', 'border-2', 'border-gray-300', 'rounded-full', 'font-semibold', 'text-gray-600', 'transition-all', 'duration-300');
            });
            
            calculateCompoundInterest(); // Calcula o valor inicial ao carregar a página
        });
    </script>
</body>
</html>